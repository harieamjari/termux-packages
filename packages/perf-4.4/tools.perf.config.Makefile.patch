diff -uNr android-trusty-4.4/tools/perf/config/Makefile android-trusty-4.4.mod/tools/perf/config/Makefile
--- android-trusty-4.4/tools/perf/config/Makefile	2024-04-14 00:49:51.437987308 +0800
+++ android-trusty-4.4.mod/tools/perf/config/Makefile	2024-04-14 11:05:06.681999542 +0800
@@ -214,6 +214,10 @@
 CFLAGS += -I$(src-perf)
 CFLAGS += -I$(srctree)/tools/lib/
 
+# add termux prefix to the last search path.
+# prevents conflicts of "event.h" (libevent) and "event.h" (kernel header)
+CFLAGS += -I$(prefix)/include
+
 CFLAGS += -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -D_GNU_SOURCE
 
 ifeq ($(feature-sync-compare-and-swap), 1)
